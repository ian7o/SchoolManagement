[32m2025-04-09 09:52:30.087[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 78767 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 09:52:30.102[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 09:52:31.677[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:52:31.681[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 09:52:31.734[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 09:52:31.735[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 09:52:31.755[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:52:31.757[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 09:52:31.803[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 38 ms. Found 1 JPA repository interface.
[32m2025-04-09 09:52:32.657[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 09:52:32.680[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 09:52:32.681[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 09:52:32.750[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 09:52:32.751[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2540 ms
[32m2025-04-09 09:52:33.132[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 09:52:33.471[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@48ccbb32
[32m2025-04-09 09:52:33.474[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 09:52:33.536[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 09:52:33.582[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 09:52:33.623[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.030s)
[32m2025-04-09 09:52:33.624[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 09:52:33.647[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 09:52:33.652[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 09:52:33.826[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 09:52:33.911[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 09:52:33.953[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 09:52:34.366[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 09:52:34.452[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 09:52:34.468[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 09:52:35.431[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 09:52:35.448[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:52:35.829[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:10)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 09:52:35.834[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:52:35.842[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:52:35.846[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:52:35.853[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 09:52:35.890[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 09:52:35.899[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table user (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 09:52:35.925[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 09:52:35.953[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:52:36.380[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'teacherController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/TeacherController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'teacherServices' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/TeacherServices.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 09:52:36.380[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:52:36.381[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:52:36.391[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:52:36.419[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:52:36.435[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:52:36.449[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 09:52:36.461[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 09:52:36.464[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 09:52:36.490[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 09:52:36.518[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.school20.school2.Services.TeacherServices required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

[32m2025-04-09 09:56:18.610[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 78861 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 09:56:18.612[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 09:56:19.704[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:56:19.705[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 09:56:19.751[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 09:56:19.751[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 09:56:19.766[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:56:19.767[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 09:56:19.807[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interface.
[32m2025-04-09 09:56:20.549[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 09:56:20.574[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 09:56:20.575[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 09:56:20.645[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 09:56:20.646[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1954 ms
[32m2025-04-09 09:56:20.974[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 09:56:21.198[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35c8be21
[32m2025-04-09 09:56:21.200[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 09:56:21.250[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 09:56:21.280[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 09:56:21.311[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.021s)
[32m2025-04-09 09:56:21.311[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 09:56:21.346[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 09:56:21.350[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 09:56:21.492[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 09:56:21.544[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 09:56:21.584[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 09:56:21.897[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 09:56:21.958[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 09:56:21.977[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 09:56:22.875[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 09:56:22.888[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:56:23.246[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:10)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 09:56:23.250[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:56:23.255[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:56:23.257[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:56:23.264[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 09:56:23.283[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 09:56:23.292[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table user (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 09:56:23.299[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 09:56:23.343[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:56:23.716[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'teacherController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/TeacherController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'teacherServices' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/TeacherServices.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 09:56:23.717[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:56:23.717[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:56:23.735[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:56:23.743[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:56:23.749[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:56:23.760[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 09:56:23.778[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 09:56:23.780[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 09:56:23.795[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 09:56:23.815[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.school20.school2.Services.TeacherServices required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' in your configuration.

[32m2025-04-09 09:59:05.117[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 78913 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 09:59:05.119[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 09:59:06.300[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:59:06.302[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 09:59:06.353[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 09:59:06.354[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 09:59:06.379[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:59:06.380[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 09:59:06.431[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 42 ms. Found 1 JPA repository interface.
[32m2025-04-09 09:59:07.139[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 09:59:07.152[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 09:59:07.152[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 09:59:07.209[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 09:59:07.209[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2023 ms
[32m2025-04-09 09:59:07.469[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 09:59:07.648[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@dc59ec2
[32m2025-04-09 09:59:07.649[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 09:59:07.703[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 09:59:07.731[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 09:59:07.756[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.016s)
[32m2025-04-09 09:59:07.757[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 09:59:07.794[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 09:59:07.799[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 09:59:07.943[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 09:59:08.004[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 09:59:08.039[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 09:59:08.364[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 09:59:08.435[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 09:59:08.448[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 09:59:09.285[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 09:59:09.300[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:59:09.649[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:10)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 09:59:09.654[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:59:09.661[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:59:09.679[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:59:09.686[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 09:59:09.695[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 09:59:09.704[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table user (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 09:59:09.731[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 09:59:09.752[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:59:10.151[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'teacherController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/TeacherController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'teacherServices' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/TeacherServices.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 09:59:10.152[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:59:10.153[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:59:10.178[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:59:10.184[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:59:10.192[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:59:10.202[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 09:59:10.218[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 09:59:10.220[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 09:59:10.238[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 09:59:10.258[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.school20.school2.Services.TeacherServices required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' in your configuration.

[32m2025-04-09 09:59:45.433[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 78933 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 09:59:45.435[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 09:59:46.476[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:59:46.477[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 09:59:46.528[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 09:59:46.528[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 09:59:46.547[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 09:59:46.556[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 09:59:46.598[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 1 JPA repository interface.
[32m2025-04-09 09:59:47.259[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 09:59:47.273[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 09:59:47.273[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 09:59:47.335[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 09:59:47.335[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1840 ms
[32m2025-04-09 09:59:47.613[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 09:59:47.801[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6bcdd6e4
[32m2025-04-09 09:59:47.803[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 09:59:47.853[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 09:59:47.882[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 09:59:47.929[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.037s)
[32m2025-04-09 09:59:47.929[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 09:59:47.953[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 09:59:47.957[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 09:59:48.083[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 09:59:48.146[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 09:59:48.185[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 09:59:48.499[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 09:59:48.562[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 09:59:48.576[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 09:59:49.479[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 09:59:49.493[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:59:49.875[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:10)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 09:59:49.879[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:59:49.885[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:59:49.888[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:59:49.894[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 09:59:49.901[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 09:59:49.910[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table user (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 09:59:49.933[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 09:59:49.981[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:59:50.377[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'teacherController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/TeacherController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'teacherServices' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/TeacherServices.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 09:59:50.378[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 09:59:50.379[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 09:59:50.389[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 09:59:50.403[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 09:59:50.410[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists user
[32m2025-04-09 09:59:50.436[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 09:59:50.447[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 09:59:50.449[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 09:59:50.465[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 09:59:50.490[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.school20.school2.Services.TeacherServices required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

[32m2025-04-09 10:04:19.596[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 79014 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 10:04:19.600[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 10:04:20.613[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'authenticationManager' defined in class path resource [com/school20/school2/security/SecurityConfig.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/school20/school2/security/SecurityConfig.class]] for bean 'authenticationManager' since there is already [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=applicationConfiguration; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/school20/school2/security/ApplicationConfiguration.class]] bound.
[32m2025-04-09 10:04:20.624[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 10:04:20.646[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'authenticationManager', defined in class path resource [com/school20/school2/security/SecurityConfig.class], could not be registered. A bean with that name has already been defined in class path resource [com/school20/school2/security/ApplicationConfiguration.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

[32m2025-04-09 10:46:29.102[0;39m [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m1s826ms).
[32m2025-04-09 10:54:41.790[0;39m [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m12s688ms).
[32m2025-04-09 10:58:32.523[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
[32m2025-04-09 10:58:32.535[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
[32m2025-04-09 10:58:32.543[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 10:58:32.544[0;39m [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 10:58:32.564[0;39m [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] 
    drop table if exists course
[32m2025-04-09 10:58:32.573[0;39m [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] 
    drop table if exists discipline
[32m2025-04-09 10:58:32.578[0;39m [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] 
    drop table if exists teacher
[32m2025-04-09 10:58:32.604[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 10:58:32.607[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
[32m2025-04-09 11:14:34.574[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 80188 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 11:14:34.578[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 11:14:35.929[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 11:14:35.931[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 11:14:35.979[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.AuthenticationRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 11:14:35.980[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 11:14:35.981[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 42 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 11:14:35.997[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 11:14:35.999[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 11:14:36.040[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
[32m2025-04-09 11:14:36.884[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 11:14:36.904[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 11:14:36.905[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 11:14:36.990[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 11:14:36.990[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2305 ms
[32m2025-04-09 11:14:37.369[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 11:14:37.629[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@615b5480
[32m2025-04-09 11:14:37.632[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 11:14:37.713[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 11:14:37.739[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 11:14:37.808[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.051s)
[32m2025-04-09 11:14:37.808[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 11:14:37.834[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 11:14:37.857[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 11:14:38.044[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 11:14:38.112[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 11:14:38.155[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 11:14:38.521[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 11:14:38.613[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 11:14:38.627[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 11:14:39.522[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 11:14:39.537[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 11:14:39.925[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:11)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 11:14:39.930[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 11:14:39.937[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 11:14:39.955[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 11:14:39.963[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 11:14:39.973[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 11:14:39.984[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table teacher (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 11:14:40.013[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 11:14:40.061[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 11:14:40.648[0;39m [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[32m2025-04-09 11:14:40.695[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: Error creating bean with name 'authenticationProvider' defined in class path resource [com/school20/school2/security/SecurityConfig.class]: A UserDetailsService must be set
[32m2025-04-09 11:14:40.696[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 11:14:40.697[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 11:14:40.710[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 11:14:40.717[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 11:14:40.723[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 11:14:40.733[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 11:14:40.743[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 11:14:40.745[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 11:14:40.758[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 11:14:40.775[0;39m [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: Error creating bean with name 'authenticationProvider' defined in class path resource [com/school20/school2/security/SecurityConfig.class]: A UserDetailsService must be set
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:11)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: Error creating bean with name 'authenticationProvider' defined in class path resource [com/school20/school2/security/SecurityConfig.class]: A UserDetailsService must be set
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 22 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: Error creating bean with name 'authenticationProvider' defined in class path resource [com/school20/school2/security/SecurityConfig.class]: A UserDetailsService must be set
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationProvider' defined in class path resource [com/school20/school2/security/SecurityConfig.class]: A UserDetailsService must be set
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1278)
	at org.springframework.security.config.annotation.authentication.configuration.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure(InitializeAuthenticationProviderBeanManagerConfigurer.java:78)
	at org.springframework.security.config.annotation.authentication.configuration.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure(InitializeAuthenticationProviderBeanManagerConfigurer.java:56)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:398)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:352)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:121)
	at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.authenticationManager(HttpSecurityConfiguration.java:141)
	at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:110)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 36 common frames omitted
Caused by: java.lang.IllegalArgumentException: A UserDetailsService must be set
	at org.springframework.util.Assert.notNull(Assert.java:181)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.doAfterPropertiesSet(DaoAuthenticationProvider.java:99)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.afterPropertiesSet(AbstractUserDetailsAuthenticationProvider.java:119)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 54 common frames omitted
[32m2025-04-09 11:49:02.556[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 80943 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 11:49:02.559[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 11:49:03.672[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 11:49:03.674[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 11:49:03.722[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.AuthenticationRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 11:49:03.724[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 11:49:03.725[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 11:49:03.744[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 11:49:03.745[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 11:49:03.787[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
[32m2025-04-09 11:49:04.557[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 11:49:04.574[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 11:49:04.574[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 11:49:04.654[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 11:49:04.655[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2013 ms
[32m2025-04-09 11:49:05.005[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 11:49:05.248[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ae280da
[32m2025-04-09 11:49:05.251[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 11:49:05.320[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 11:49:05.352[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 11:49:05.404[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.039s)
[32m2025-04-09 11:49:05.405[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 11:49:05.438[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 11:49:05.442[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 11:49:05.597[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 11:49:05.646[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 11:49:05.682[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 11:49:06.009[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 11:49:06.070[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 11:49:06.086[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 11:49:06.977[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 11:49:06.990[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 11:49:07.367[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:11)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 11:49:07.371[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 11:49:07.393[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 11:49:07.397[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 11:49:07.404[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 11:49:07.411[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 11:49:07.419[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table teacher (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 11:49:07.442[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 11:49:07.466[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 11:49:07.839[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/AuthenticationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authenticationService' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/AuthenticationService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'securityConfig' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 11:49:07.840[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 11:49:07.840[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 11:49:07.848[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 11:49:07.854[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 11:49:07.860[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 11:49:07.870[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 11:49:07.878[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 11:49:07.880[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 11:49:07.894[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 11:49:07.930[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.school20.school2.security.SecurityConfig required a bean of type 'org.springframework.security.authentication.AuthenticationProvider' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationProvider' in your configuration.

[32m2025-04-09 11:55:31.824[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 81089 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 11:55:31.827[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 11:55:32.933[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 11:55:32.935[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 11:55:32.977[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.AuthenticationRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 11:55:32.978[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 11:55:32.979[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 11:55:32.995[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 11:55:32.996[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 11:55:33.045[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
[32m2025-04-09 11:55:33.788[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 11:55:33.807[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 11:55:33.807[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 11:55:33.882[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 11:55:33.883[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1965 ms
[32m2025-04-09 11:55:34.236[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 11:55:34.468[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@383cdd4d
[32m2025-04-09 11:55:34.470[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 11:55:34.519[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 11:55:34.553[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 11:55:34.596[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.033s)
[32m2025-04-09 11:55:34.597[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 11:55:34.616[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 11:55:34.620[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 11:55:34.762[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 11:55:34.816[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 11:55:34.850[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 11:55:35.231[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 11:55:35.327[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 11:55:35.343[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 11:55:36.255[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 11:55:36.268[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 11:55:36.597[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:11)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 11:55:36.601[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 11:55:36.607[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 11:55:36.610[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 11:55:36.616[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 11:55:36.622[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 11:55:36.646[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table teacher (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 11:55:36.654[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 11:55:36.675[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 11:55:37.033[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/AuthenticationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authenticationService' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/AuthenticationService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'securityConfig' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 11:55:37.034[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 11:55:37.035[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 11:55:37.050[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 11:55:37.056[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 11:55:37.062[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 11:55:37.072[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 11:55:37.081[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 11:55:37.083[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 11:55:37.096[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 11:55:37.121[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.school20.school2.security.SecurityConfig required a bean of type 'org.springframework.security.authentication.AuthenticationProvider' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationProvider' in your configuration.

[32m2025-04-09 12:11:09.557[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 81457 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 12:11:09.559[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 12:11:10.392[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 12:11:10.393[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 12:11:10.425[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.AuthenticationRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 12:11:10.427[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 12:11:10.428[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 12:11:10.441[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 12:11:10.441[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 12:11:10.471[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
[32m2025-04-09 12:11:11.041[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 12:11:11.053[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 12:11:11.053[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 12:11:11.104[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 12:11:11.105[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1484 ms
[32m2025-04-09 12:11:11.348[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 12:11:11.518[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5abf6a99
[32m2025-04-09 12:11:11.520[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 12:11:11.573[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 12:11:11.585[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 12:11:11.632[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.037s)
[32m2025-04-09 12:11:11.632[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 12:11:11.668[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 12:11:11.671[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 12:11:11.766[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 12:11:11.830[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 12:11:11.863[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 12:11:12.125[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 12:11:12.186[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 12:11:12.199[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 12:11:12.841[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 12:11:12.852[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 12:11:13.143[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:11)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 12:11:13.146[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 12:11:13.150[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 12:11:13.169[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 12:11:13.173[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 12:11:13.178[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 12:11:13.184[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table teacher (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 12:11:13.192[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 12:11:13.240[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 12:11:13.595[0;39m [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Controllers/AuthenticationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authenticationService' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/Services/AuthenticationService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'securityConfig' defined in file [/Users/admin.ian.swerts/projects/school2/target/classes/com/school20/school2/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[32m2025-04-09 12:11:13.596[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 12:11:13.597[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 12:11:13.621[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 12:11:13.628[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 12:11:13.635[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 12:11:13.647[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
[32m2025-04-09 12:11:13.657[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
[32m2025-04-09 12:11:13.662[0;39m [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
[32m2025-04-09 12:11:13.680[0;39m [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[32m2025-04-09 12:11:13.709[0;39m [ERROR] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.school20.school2.security.SecurityConfig required a bean of type 'org.springframework.security.authentication.AuthenticationProvider' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationProvider' in your configuration.

[32m2025-04-09 12:25:10.023[0;39m [INFO] com.school20.school2.School2Application [main] Starting School2Application using Java 23.0.1 with PID 81767 (/Users/admin.ian.swerts/projects/school2/target/classes started by admin.ian.swerts in /Users/admin.ian.swerts/projects/school2)
[32m2025-04-09 12:25:10.025[0;39m [INFO] com.school20.school2.School2Application [main] No active profile set, falling back to 1 default profile: "default"
[32m2025-04-09 12:25:11.250[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 12:25:11.252[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
[32m2025-04-09 12:25:11.298[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.AuthenticationRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 12:25:11.299[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.school20.school2.Repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
[32m2025-04-09 12:25:11.300[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
[32m2025-04-09 12:25:11.320[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
[32m2025-04-09 12:25:11.321[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[32m2025-04-09 12:25:11.359[0;39m [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
[32m2025-04-09 12:25:12.037[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
[32m2025-04-09 12:25:12.052[0;39m [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
[32m2025-04-09 12:25:12.053[0;39m [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
[32m2025-04-09 12:25:12.113[0;39m [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
[32m2025-04-09 12:25:12.113[0;39m [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2028 ms
[32m2025-04-09 12:25:12.386[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
[32m2025-04-09 12:25:12.566[0;39m [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b56ec6c
[32m2025-04-09 12:25:12.568[0;39m [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
[32m2025-04-09 12:25:12.617[0;39m [INFO] org.flywaydb.core.FlywayExecutor [main] Database: jdbc:mysql://127.0.0.1:3306/school34?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true (MySQL 9.2)
[32m2025-04-09 12:25:12.632[0;39m [WARN] org.flywaydb.core.internal.database.base.Database [main] Flyway upgrade recommended: MySQL 9.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
[32m2025-04-09 12:25:12.663[0;39m [INFO] org.flywaydb.core.internal.command.DbValidate [main] Successfully validated 0 migrations (execution time 00:00.020s)
[32m2025-04-09 12:25:12.663[0;39m [WARN] org.flywaydb.core.internal.command.DbValidate [main] No migrations found. Are your locations set up correctly?
[32m2025-04-09 12:25:12.680[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Current version of schema `school34`: << Empty Schema >>
[32m2025-04-09 12:25:12.684[0;39m [INFO] org.flywaydb.core.internal.command.DbMigrate [main] Schema `school34` is up to date. No migration necessary.
[32m2025-04-09 12:25:12.777[0;39m [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
[32m2025-04-09 12:25:12.818[0;39m [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.6.8.Final
[32m2025-04-09 12:25:12.857[0;39m [INFO] org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
[32m2025-04-09 12:25:13.071[0;39m [INFO] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
[32m2025-04-09 12:25:13.110[0;39m [WARN] org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[32m2025-04-09 12:25:13.119[0;39m [INFO] org.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
[32m2025-04-09 12:25:13.678[0;39m [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[32m2025-04-09 12:25:13.687[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3
[32m2025-04-09 12:25:13.960[0;39m [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table discipline 
       drop 
       foreign key FK60q60lfqgd0gh89sfyqgkuro3" via JDBC [Table 'school34.discipline' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.school20.school2.School2Application.main(School2Application.java:11)
Caused by: java.sql.SQLSyntaxErrorException: Table 'school34.discipline' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[32m2025-04-09 12:25:13.963[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists course
[32m2025-04-09 12:25:13.967[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists discipline
[32m2025-04-09 12:25:13.969[0;39m [DEBUG] org.hibernate.SQL [main] 
    drop table if exists teacher
[32m2025-04-09 12:25:13.974[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table course (
        course_id bigint not null auto_increment,
        name varchar(255),
        year varchar(255),
        primary key (course_id)
    ) engine=InnoDB
[32m2025-04-09 12:25:13.979[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table discipline (
        course_id bigint,
        id bigint not null auto_increment,
        discipline_name varchar(255),
        primary key (id)
    ) engine=InnoDB
[32m2025-04-09 12:25:13.985[0;39m [DEBUG] org.hibernate.SQL [main] 
    create table teacher (
        teacher_id bigint not null auto_increment,
        birth_day varchar(255),
        email varchar(255),
        first_name varchar(255),
        gender varchar(255),
        last_name varchar(255),
        password varchar(255),
        roles enum ('ADMIN','USER'),
        primary key (teacher_id)
    ) engine=InnoDB
[32m2025-04-09 12:25:13.990[0;39m [DEBUG] org.hibernate.SQL [main] 
    alter table discipline 
       add constraint FK60q60lfqgd0gh89sfyqgkuro3 
       foreign key (course_id) 
       references course (course_id)
[32m2025-04-09 12:25:14.007[0;39m [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
[32m2025-04-09 12:25:14.358[0;39m [INFO] org.springframework.security.config.annotation.authentication.configuration.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer [main] Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
[32m2025-04-09 12:25:14.359[0;39m [WARN] org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
[32m2025-04-09 12:25:14.462[0;39m [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[32m2025-04-09 12:25:14.749[0;39m [DEBUG] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
[32m2025-04-09 12:25:14.801[0;39m [INFO] org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean [main] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
[32m2025-04-09 12:25:15.109[0;39m [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
[32m2025-04-09 12:25:15.119[0;39m [INFO] com.school20.school2.School2Application [main] Started School2Application in 5.583 seconds (process running for 6.002)
[32m2025-04-09 12:28:31.108[0;39m [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m18s404ms).
